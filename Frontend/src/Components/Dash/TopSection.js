import "./Styles/TopSection.css";
import { motion } from "framer-motion";

function numberWithCommas(x) {
  return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}

const TopSection = ({ active, setActive, failed, accounts, sms }) => {
  return (
    <div className="topsection">
      <motion.div
        className={`section ${active === "accCreatedGraph" ? "active" : ""}`}
        onClick={() => setActive("accCreatedGraph")}
      >
        <div className="flex">
          <div className="icon">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M21.0001 7C21.0001 10.3137 18.3138 13 15.0001 13C11.6864 13 9.00006 10.3137 9.00006 7C9.00006 3.68629 11.6864 1 15.0001 1C18.3138 1 21.0001 3.68629 21.0001 7ZM19.0001 7C19.0001 9.20914 17.2092 11 15.0001 11C12.7909 11 11.0001 9.20914 11.0001 7C11.0001 4.79086 12.7909 3 15.0001 3C17.2092 3 19.0001 4.79086 19.0001 7Z"
                fill="#97DDDD"
              />
              <path
                d="M8.19899 3.07982C8.74024 2.96995 9.08994 2.44212 8.98007 1.90087C8.87021 1.35963 8.34238 1.00992 7.80113 1.11979C5.06202 1.6758 3.00006 4.09587 3.00006 6.99979C3.00006 9.9037 5.06202 12.3238 7.80113 12.8798C8.34238 12.9896 8.87021 12.6399 8.98007 12.0987C9.08994 11.5575 8.74024 11.0296 8.19899 10.9198C6.37362 10.5492 5.00006 8.93379 5.00006 6.99979C5.00006 5.06578 6.37362 3.45035 8.19899 3.07982Z"
                fill="#97DDDD"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M9.69797 15.5735C10.9308 14.6272 12.6491 14 15.0001 14C17.3511 14 19.0694 14.6272 20.3022 15.5736C21.5259 16.5128 22.1916 17.705 22.5526 18.7086C22.8703 19.592 22.6477 20.4567 22.1149 21.0695C21.6003 21.6613 20.8212 22 20.0001 22H10.0001C9.17895 22 8.39985 21.6613 7.88527 21.0695C7.35243 20.4566 7.12983 19.5919 7.44759 18.7086C7.80862 17.705 8.47432 16.5128 9.69797 15.5735ZM10.9158 17.16C10.0736 17.8065 9.59851 18.6378 9.32953 19.3856C9.27341 19.5416 9.30428 19.6534 9.39453 19.7572C9.50304 19.882 9.71665 20 10.0001 20H20.0001C20.2835 20 20.4971 19.882 20.6056 19.7572C20.6959 19.6534 20.7267 19.5416 20.6706 19.3856C20.4017 18.6379 19.9266 17.8065 19.0844 17.16C18.2515 16.5207 16.979 16 15.0001 16C13.0212 16 11.7487 16.5207 10.9158 17.16Z"
                fill="#97DDDD"
              />
              <path
                d="M3.25099 19.2769C3.45569 18.4886 3.80704 17.6598 4.38686 17.0404C4.93795 16.4517 5.74058 16 7.00006 16C7.55235 16 8.00006 15.5523 8.00006 15C8.00006 14.4477 7.55235 14 7.00006 14C5.17939 14 3.8506 14.6867 2.92677 15.6736C2.03168 16.6298 1.56461 17.8138 1.3152 18.7741C0.832006 20.6347 2.41456 22 4.00003 22H4.76925C5.32154 22 5.76925 21.5523 5.76925 21C5.76925 20.4477 5.32154 20 4.76925 20H4.00003C3.7175 20 3.49251 19.8839 3.3646 19.7426C3.24875 19.6146 3.20266 19.4629 3.25099 19.2769Z"
                fill="#97DDDD"
              />
            </svg>
          </div>
          <div>
            <p>Accounts Created</p>
            <div className="num">{numberWithCommas(accounts)}</div>
          </div>
        </div>
      </motion.div>
      <motion.div
        className={`section ${
          active === "accountsFailedGraph" ? "active" : ""
        }`}
        onClick={() => setActive("accountsFailedGraph")}
      >
        <div className="flex">
          <div className="icon spent">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              aria-hidden="true"
              focusable="false"
              data-prefix="far"
              data-icon="times-circle"
              class="svg-inline--fa fa-times-circle fa-w-16"
              role="img"
              viewBox="0 0 512 512"
            >
              <path
                fill="currentColor"
                d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm101.8-262.2L295.6 256l62.2 62.2c4.7 4.7 4.7 12.3 0 17l-22.6 22.6c-4.7 4.7-12.3 4.7-17 0L256 295.6l-62.2 62.2c-4.7 4.7-12.3 4.7-17 0l-22.6-22.6c-4.7-4.7-4.7-12.3 0-17l62.2-62.2-62.2-62.2c-4.7-4.7-4.7-12.3 0-17l22.6-22.6c4.7-4.7 12.3-4.7 17 0l62.2 62.2 62.2-62.2c4.7-4.7 12.3-4.7 17 0l22.6 22.6c4.7 4.7 4.7 12.3 0 17z"
              />
            </svg>
          </div>
          <div>
            <p>Accounts Failed</p>
            <div className="num">{numberWithCommas(failed)}</div>
          </div>
        </div>
      </motion.div>

      <motion.div
        className={`section ${active === "smsUsedGraph" ? "active" : ""}`}
        onClick={() => setActive("smsUsedGraph")}
      >
        <div className="flex">
          <div className="icon">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M7 8C7 7.44772 7.44772 7 8 7H16C16.5523 7 17 7.44772 17 8C17 8.55228 16.5523 9 16 9H8C7.44772 9 7 8.55228 7 8Z"
                fill="#97DDDD"
              />
              <path
                d="M8 11C7.44772 11 7 11.4477 7 12C7 12.5523 7.44772 13 8 13H12C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11H8Z"
                fill="#97DDDD"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M2.87429 3.90187C4.53087 2.01939 7.38921 1 12 1C16.6108 1 19.4691 2.01939 21.1257 3.90187C22.7638 5.76332 23 8.22786 23 10.5C23 12.7727 22.7607 15.1843 21.435 17.0153C20.1231 18.8272 17.9188 19.8586 14.5438 19.9277L12.8378 22.5459C12.6533 22.8292 12.3381 23 12 23C11.6619 23 11.3467 22.8292 11.1622 22.5459L9.45287 19.9226C6.08016 19.8232 3.87809 18.7926 2.56658 16.9914C1.23937 15.1685 1 12.7731 1 10.5C1 8.22786 1.23622 5.76332 2.87429 3.90187ZM4.37571 5.22313C3.26378 6.48668 3 8.27214 3 10.5C3 12.7269 3.26063 14.5467 4.18342 15.8141C5.05228 17.0075 6.68351 17.9305 10 17.9305H10.542L12 20.1682L13.4615 17.9251L14.0099 17.9306C17.3205 17.9634 18.9474 17.0407 19.815 15.8424C20.7393 14.5657 21 12.7273 21 10.5C21 8.27214 20.7362 6.48668 19.6243 5.22313C18.5309 3.98061 16.3892 3 12 3C7.61079 3 5.46912 3.98061 4.37571 5.22313Z"
                fill="#97DDDD"
              />
            </svg>
          </div>
          <div>
            <p>SMS Used</p>
            <div className="num">{numberWithCommas(sms)}</div>
          </div>
        </div>
      </motion.div>
    </div>
  );
};

export default TopSection;
